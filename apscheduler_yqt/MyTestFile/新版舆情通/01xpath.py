#!/usr/bin/python3.x
# -*- coding: utf-8 -*-
# @Time    : 2021/5/14 10:01
# @Author  : hike
# @Email   : hikehaidong@gmail.com
# @File    : 01xpath.py
# @Software: PyCharm
from lxml import etree


# 不带转发内容的
html = """
<tr _ngcontent-nse-c23="" class="ant-table-row ng-star-inserted"><td _ngcontent-nse-c23="" nzshowcheckbox="" class="ant-table-selection-column" data-id="116212115950038122054211"><!----><!----><label nz-checkbox="" class="ant-checkbox-wrapper ng-untouched ng-pristine ng-valid ng-star-inserted"><span class="ant-checkbox"><input class="ant-checkbox-input ng-untouched ng-pristine ng-valid" type="checkbox"><span class="ant-checkbox-inner"></span></span><span style="display: none;"></span></label><!----><!----></td><td _ngcontent-nse-c23=""><!----><!----><!----><!----><div _ngcontent-nse-c23="" class="news-content"><!----><div _ngcontent-nse-c23="" class="inline-block" style="width: 34px;"><div _ngcontent-nse-c23="" class="inline-block profile-img-wrapper"><!----><!----><!----><!----><span _ngcontent-nse-c23="" class="default-img app ng-star-inserted"></span><!----><!----><!----><span _ngcontent-nse-c23="" class="user-level-icon-wrapper ng-star-inserted"><i _ngcontent-nse-c23=""></i></span></div></div><div _ngcontent-nse-c23="" class="inline-block news-item"><div _ngcontent-nse-c23="" class="profile-title inline-block clearfix"><a _ngcontent-nse-c23=""><ellipsis _ngcontent-nse-c23=""><div style="display: none;"><span _ngcontent-nse-c23=""><font color="red">华为</font>鸿蒙之后 全球第一大手机厂商也要放弃安卓了</span></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span _ngcontent-nse-c23=""><font color="red">华为</font>鸿蒙之后 全球第一大手机厂商也要放弃安卓了</span></div><!----><!----><!----></ellipsis></a><!----><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m ml10 ng-star-inserted"><nz-tag _ngcontent-nse-c23="" class="cur-p mr0 ng-tns-c13-434 ng-trigger ng-trigger-fadeMotion ant-tag">纠错<!----></nz-tag></div><div _ngcontent-nse-c23="" class="inline-block m10 v-a-m"><!----><!----><!----><!----><nz-tag _ngcontent-nse-c23="" nz-dropdown="" nztrigger="click" class="ng-tns-c13-435 ng-trigger ng-trigger-fadeMotion ant-dropdown-trigger cur-p mr0 fmgtag ant-tag ng-star-inserted"> 非敏感 <i _ngcontent-nse-c23="" iconfont="fa-xiala" nz-icon="" style="font-size: 8px;" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-xiala"></use></svg></i><!----></nz-tag><!----><!----><!----></div></div><div _ngcontent-nse-c23="" class="profile-tip inline-block"><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-150 ng-trigger ng-trigger-fadeMotion ant-tag"> 精准地域：其他 <!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-151 ng-trigger ng-trigger-fadeMotion ant-tag"> 行业：<span _ngcontent-nse-c23="">金融</span><!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-152 ng-trigger ng-trigger-fadeMotion ant-tag"> 涉及词：<span _ngcontent-nse-c23="" class="color-red"><ellipsis _ngcontent-nse-c23=""><div style="display: none;">电脑,华为</div><!----><!----><!----><!----><!----><!----><!---->电脑,华为<!----><!----><!----><!----></ellipsis></span><!----></nz-tag><!----><!----><!----></div><div _ngcontent-nse-c23="" class="item-title news-item-title contenttext"><app-ellsisp-expend _ngcontent-nse-c23=""><div class="rel"><ellipsis><div style="display: none;"><div><font color="red">华为</font>研发的鸿蒙OS已经步入正轨，预计手机版2.0正式版将在P50系列手机上6月首发，作为替代Android的存在，它承载了外界不少期许。</div></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 4; -webkit-box-orient: vertical;"><div><font color="red">华为</font>研发的鸿蒙OS已经步入正轨，预计手机版2.0正式版将在P50系列手机上6月首发，作为替代Android的存在，它承载了外界不少期许。</div></div><!----><!----><!----></ellipsis></div></app-ellsisp-expend></div><!----><!----><!----><div _ngcontent-nse-c23="" class="news-item-tools font-size-0 lh2 clearfix"><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m color_main text-right pull-right"><app-global-btn-group _ngcontent-nse-c23="" _nghost-nse-c31=""><div _ngcontent-nse-c31="" class="inline-block global-btn-group v-a-m ml20"><ul _ngcontent-nse-c31=""><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至收藏夹" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shoucang"></use></svg></i></a><!----></li><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至简报素材" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-tianjiazhijianbaosucai"></use></svg></i></a><!----></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="舆情下发渠道" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuqingxiafaqudao"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="查看原文"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuanwen"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="复制" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fuzhi1"></use></svg></i></a></li><li _ngcontent-nse-c31=""><!----><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="标已读" class="ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-weidu"></use></svg></i></a><!----><!----></li><!----><!----><li _ngcontent-nse-c31="" class="acl__hide ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="分发" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fenfadaoxitongzu"></use></svg></i></a></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="删除" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shanchu2"></use></svg></i></a></li><!----></ul></div><!----><!----><!----><!----><!----><!----></app-global-btn-group></div></div></div></div></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><span _ngcontent-nse-c23="" class="ng-star-inserted">1</span></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><a _ngcontent-nse-c23="" class="mb5 color-333 font-size-13 ng-star-inserted" routerlink="/yqmonitor/expend" target="_blank" href="#/yqmonitor/expend?name=%E6%95%B0%E7%A0%81%E4%BA%A7%E5%93%81%E3%80%81%E8%BD%AF%E4%BB%B6&amp;type=2"> 手机同花顺财经 </a><!----><p _ngcontent-nse-c23="" class="font-size-13">浙江</p></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><!----><!----><p _ngcontent-nse-c23="" class="ng-star-inserted"><span _ngcontent-nse-c23="">08:33<br>今天</span></p><!----><!----></td></tr>
"""
# 微博带转发内容的
# html="""<tr _ngcontent-nse-c23="" class="ant-table-row ng-star-inserted"><td _ngcontent-nse-c23="" nzshowcheckbox="" class="ant-table-selection-column" data-id="116212116463037453672626"><!----><!----><label nz-checkbox="" class="ant-checkbox-wrapper ng-untouched ng-pristine ng-valid ng-star-inserted"><span class="ant-checkbox"><input class="ant-checkbox-input ng-untouched ng-pristine ng-valid" type="checkbox"><span class="ant-checkbox-inner"></span></span><span style="display: none;"></span></label><!----><!----></td><td _ngcontent-nse-c23=""><!----><!----><!----><!----><div _ngcontent-nse-c23="" class="news-content"><!----><div _ngcontent-nse-c23="" class="inline-block" style="width: 34px;"><div _ngcontent-nse-c23="" class="inline-block profile-img-wrapper"><!----><!----><!----><img _ngcontent-nse-c23="" alt="" src="https://tvax2.sinaimg.cn/crop.0.0.684.684.50/008438Dlly8gboyfrqenwj30j00j0q3l.jpg" class="ng-star-inserted"><!----><!----><!----><!----></div></div><div _ngcontent-nse-c23="" class="inline-block news-item"><div _ngcontent-nse-c23="" class="profile-title inline-block clearfix"><a _ngcontent-nse-c23=""><ellipsis _ngcontent-nse-c23=""><div style="display: none;"><span _ngcontent-nse-c23="">星煋starr</span></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span _ngcontent-nse-c23="">星煋starr</span></div><!----><!----><!----></ellipsis></a><!----><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m ml10 ng-star-inserted"><nz-tag _ngcontent-nse-c23="" class="cur-p mr0 ng-tns-c13-390 ng-trigger ng-trigger-fadeMotion ant-tag">纠错<!----></nz-tag></div><div _ngcontent-nse-c23="" class="inline-block m10 v-a-m"><!----><!----><!----><!----><nz-tag _ngcontent-nse-c23="" nz-dropdown="" nztrigger="click" class="ng-tns-c13-392 ng-trigger ng-trigger-fadeMotion ant-dropdown-trigger cur-p mr0 fmgtag ant-tag ng-star-inserted"> 非敏感 <i _ngcontent-nse-c23="" iconfont="fa-xiala" nz-icon="" style="font-size: 8px;" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-xiala"></use></svg></i><!----></nz-tag><!----><!----><!----></div></div><div _ngcontent-nse-c23="" class="profile-tip inline-block"><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-140 ng-trigger ng-trigger-fadeMotion ant-tag"> 精准地域：其他 <!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-141 ng-trigger ng-trigger-fadeMotion ant-tag"> 行业：<span _ngcontent-nse-c23="">其他</span><!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-142 ng-trigger ng-trigger-fadeMotion ant-tag"> 涉及词：<span _ngcontent-nse-c23="" class="color-red"><ellipsis _ngcontent-nse-c23=""><div style="display: none;">电脑,华硕</div><!----><!----><!----><!----><!----><!----><!---->电脑,华硕<!----><!----><!----><!----></ellipsis></span><!----></nz-tag><!----><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-391 ng-trigger ng-trigger-fadeMotion ant-tag ant-tag-has-color ng-star-inserted" style="background-color: rgb(75, 128, 188);"> 转发 <!----></nz-tag><!----><!----></div><div _ngcontent-nse-c23="" class="item-title news-item-title contenttext"><app-ellsisp-expend _ngcontent-nse-c23=""><div class="rel"><ellipsis><div style="display: none;"><div>转发微博</div></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 4; -webkit-box-orient: vertical;"><div>转发微博</div></div><!----><!----><!----></ellipsis></div></app-ellsisp-expend></div><!----><!----><div _ngcontent-nse-c23="" class="resend-wrapper mt10 ng-star-inserted"><div _ngcontent-nse-c23="" class="item-title resend-news-item-title should-spread-area"><app-ellsisp-expend _ngcontent-nse-c23=""><div class="rel"><ellipsis><div style="display: none;"><div><a href="https://weibo.com/n/快乐肥宅庆先森" target="_blank">@快乐肥宅庆先森</a> <a href="https://s.weibo.com/weibo?q=今日二手" target="_blank">#今日二手#</a>看中哪个的话在阿里橙色购物软件搜店铺【庆先生经商小铺】→【二手专区】里面找链接可以尝试跳转 但是不一定行<a href="http://t.cn/A6VyqjnW" target="_blank">http://t.cn/A6VyqjnW</a>因为五一假期调了个休，这周一发的算是攒了一周半的二手，所以稍微有点多联想拯救者Y7000P i7 8750H+GTX1060 6GB版笔记本<font color="red">电脑</font> 4499元联想Yoga 14S 2021 英特尔酷睿版（1135G7+16G+512G）4396元耕升 GeForce GTX 1060 6GB追风版显卡 1999元蓝宝石 Radeon RX Vega 64 8GB HBM2 超白金 三星显存显卡 5499元昂达 GeForce GTX 1050Ti 4GB GDDR5典范显卡 899元西数SN550 1TB两张，写入少一点的929，写入多一点的899西部数据 SN750 4TB m.2 NVMe SSD 7099元<font color="red">华硕</font> Z170 AR主板+Core i7 6700K套装 1699元威刚XPG 游戏威龙马甲条 DDR4 2666 8GB×2内存 398元金士顿 Hyper-X马甲条 DDR4 2666 8GB×2 内存 398元三星笔记本内存 DDR4 3200 8GB×2 399元芝奇笔记本内存 DDR4 3200 8GB×2 399元索尼 A7R3 ILCE-7RM3 全幅微单相机 单机身 11499元索尼 黑卡相机 RX100M6 RX100VI 4480元索尼FE 55mm f/1.8ZA 镜头 3300元Intel/英特尔 I5 8400 i5-8400 CPU 带核显 968元Intel/英特尔 i3 10100 CPU 带核显 899元<font color="red">华硕</font> ROG Strix B550-E Gaming主板 降价至1249元索尼FE卡口 2x增距镜 降价至2699元芝奇幻光戟 3200MHz CL16 8GB×2内存套装 降价至499元/套 共有2套微星 Z390 ACE主板+Core i9 9900KF套装 降价至2699元二手产品寄售现在可寄售PC配件（机箱除外）以及智能手机、笔记本<font color="red">电脑</font>、iPad等数码电子产品，以及摄影器材类，有需要可按下面的方式联系。因为精力所限只拉铍条，为方便统计（夫博的私信功能实在是一言难尽，不要私信了被漏掉的概率很高）有寄售需求的加绿色聊天软件klfzqxs联系我沟通寄售信息并登记，确认信息收到产品检测无误后上架，找到买方客户确认成交后我这边收成交价5%+20元苦劳费用（最低50元，封顶500元），剩余货款在15日内结算到指定账户。因为需要拉铍条成交之后才能完成交易，还要收取铍条费用，所以如果对省心没什么要求，而是急需用钱/希望收益最大化之类的情况，请自行使用蛋丁鱼交易。</div></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 4; -webkit-box-orient: vertical;"><div><a href="https://weibo.com/n/快乐肥宅庆先森" target="_blank">@快乐肥宅庆先森</a> <a href="https://s.weibo.com/weibo?q=今日二手" target="_blank">#今日二手#</a>看中哪个的话在阿里橙色购物软件搜店铺【庆先生经商小铺】→【二手专区】里面找链接可以尝试跳转 但是不一定行<a href="http://t.cn/A6VyqjnW" target="_blank">http://t.cn/A6VyqjnW</a>因为五一假期调了个休，这周一发的算是攒了一周半的二手，所以稍微有点多联想拯救者Y7000P i7 8750H+GTX1060 6GB版笔记本<font color="red">电脑</font> 4499元联想Yoga 14S 2021 英特尔酷睿版（1135G7+16G+512G）4396元耕升 GeForce GTX 1060 6GB追风版显卡 1999元蓝宝石 Radeon RX Vega 64 8GB HBM2 超白金 三星显存显卡 5499元昂达 GeForce GTX 1050Ti 4GB GDDR5典范显卡 899元西数SN550 1TB两张，写入少一点的929，写入多一点的899西部数据 SN750 4TB m.2 NVMe SSD 7099元<font color="red">华硕</font> Z170 AR主板+Core i7 6700K套装 1699元威刚XPG 游戏威龙马甲条 DDR4 2666 8GB×2内存 398元金士顿 Hyper-X马甲条 DDR4 2666 8GB×2 内存 398元三星笔记本内存 DDR4 3200 8GB×2 399元芝奇笔记本内存 DDR4 3200 8GB×2 399元索尼 A7R3 ILCE-7RM3 全幅微单相机 单机身 11499元索尼 黑卡相机 RX100M6 RX100VI 4480元索尼FE 55mm f/1.8ZA 镜头 3300元Intel/英特尔 I5 8400 i5-8400 CPU 带核显 968元Intel/英特尔 i3 10100 CPU 带核显 899元<font color="red">华硕</font> ROG Strix B550-E Gaming主板 降价至1249元索尼FE卡口 2x增距镜 降价至2699元芝奇幻光戟 3200MHz CL16 8GB×2内存套装 降价至499元/套 共有2套微星 Z390 ACE主板+Core i9 9900KF套装 降价至2699元二手产品寄售现在可寄售PC配件（机箱除外）以及智能手机、笔记本<font color="red">电脑</font>、iPad等数码电子产品，以及摄影器材类，有需要可按下面的方式联系。因为精力所限只拉铍条，为方便统计（夫博的私信功能实在是一言难尽，不要私信了被漏掉的概率很高）有寄售需求的加绿色聊天软件klfzqxs联系我沟通寄售信息并登记，确认信息收到产品检测无误后上架，找到买方客户确认成交后我这边收成交价5%+20元苦劳费用（最低50元，封顶500元），剩余货款在15日内结算到指定账户。因为需要拉铍条成交之后才能完成交易，还要收取铍条费用，所以如果对省心没什么要求，而是急需用钱/希望收益最大化之类的情况，请自行使用蛋丁鱼交易。</div></div><!----><!----><!----></ellipsis></div></app-ellsisp-expend></div><!----><div _ngcontent-nse-c23="" class="news-img-group news-img-wrapper ng-star-inserted"><!----><app-yqt-wb-img-list _ngcontent-nse-c23="" class="ng-star-inserted"><div class="news-img-group news-img-wrapper pl5"><div class="inline-block" id="116212116463037453672626"><div id="116212116463037453672626_picshow_narrow" class="actizPicShow" style="width: 505px; height: 90px;"><span class="pic-left hidden"><i class="fa"></i></span><ul><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="0" src="http://wx4.sinaimg.cn/thumbnail/b212f1adgy1gqktued7djj21900u0k7d.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="1" src="http://wx2.sinaimg.cn/thumbnail/b212f1adgy1gqktuehz19j21900u01c6.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="2" src="http://wx4.sinaimg.cn/thumbnail/b212f1adgy1gqktuefsbsj21900u0ww7.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="3" src="http://wx4.sinaimg.cn/thumbnail/b212f1adgy1gqktuebwlaj21900u07dh.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="4" src="http://wx4.sinaimg.cn/thumbnail/b212f1adgy1gqktuegae0j21900u0k4k.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="5" src="http://wx4.sinaimg.cn/thumbnail/b212f1adgy1gqktuegqqdj21900u0nl2.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="6" src="http://wx2.sinaimg.cn/thumbnail/b212f1adgy1gqktuenkwfj21900u04jr.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="7" src="http://wx1.sinaimg.cn/thumbnail/b212f1adgy1gqktufb1p8j21900u07tv.jpg" alt=""></li><li><img id="undefined" height="80px" width="80px" class="bigcursor" curloc="8" src="http://wx1.sinaimg.cn/thumbnail/b212f1adgy1gqktuevvr9j21900u0twk.jpg" alt=""></li></ul><span class="pic-right"><i class="fa"></i></span></div></div></div></app-yqt-wb-img-list></div></div><!----><div _ngcontent-nse-c23="" class="news-item-tools font-size-0 lh2 clearfix"><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m font-size-14 pull-left ng-star-inserted"><div _ngcontent-nse-c23="" class="inline-block mr15"><i _ngcontent-nse-c23="" class="anticon font-size-14 mr5" iconfont="fa-pinglunshu" nz-icon="" nz-tooltip="" nztooltiptitle="评论数"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-pinglunshu"></use></svg></i><span _ngcontent-nse-c23="" class="color_main font-size-14 cur-p">0</span></div><div _ngcontent-nse-c23="" class="inline-block"><i _ngcontent-nse-c23="" class="anticon font-size-16 mr5" iconfont="fa-zhuanfa" nz-icon="" nz-tooltip="" nztooltiptitle="转发数"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-zhuanfa"></use></svg></i><span _ngcontent-nse-c23="" class="color_main font-size-14 cur-p">0</span></div></div><div _ngcontent-nse-c23="" class="inline-block v-a-m color_main text-right pull-right"><app-global-btn-group _ngcontent-nse-c23="" _nghost-nse-c31=""><div _ngcontent-nse-c31="" class="inline-block global-btn-group v-a-m ml20"><ul _ngcontent-nse-c31=""><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至收藏夹" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shoucang"></use></svg></i></a><!----></li><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至简报素材" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-tianjiazhijianbaosucai"></use></svg></i></a><!----></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="舆情下发渠道" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuqingxiafaqudao"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="查看原文"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuanwen"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="复制" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fuzhi1"></use></svg></i></a></li><li _ngcontent-nse-c31=""><!----><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="标已读" class="ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-weidu"></use></svg></i></a><!----><!----></li><!----><!----><li _ngcontent-nse-c31="" class="acl__hide ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="分发" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fenfadaoxitongzu"></use></svg></i></a></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="删除" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shanchu2"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="一键溯源"><i _ngcontent-nse-c31="" iconfont="fa-suyuantubiao" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-suyuantubiao"></use></svg></i></a></li></ul></div><!----><!----><!----><!----><!----><!----></app-global-btn-group></div></div></div></div></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><span _ngcontent-nse-c23="" class="ng-star-inserted">1</span></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><a _ngcontent-nse-c23="" class="mb5 color-333 font-size-13 ng-star-inserted" routerlink="/yqmonitor/expend" target="_blank" href="#/yqmonitor/expend?name=%E6%95%B0%E7%A0%81%E4%BA%A7%E5%93%81%E3%80%81%E8%BD%AF%E4%BB%B6&amp;type=2"> 新浪微博 </a><!----><p _ngcontent-nse-c23="" class="font-size-13">辽宁</p></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><!----><!----><p _ngcontent-nse-c23="" class="ng-star-inserted"><span _ngcontent-nse-c23="">08:33<br>今天</span></p><!----><!----></td></tr>"""
# 微博不带转发内容的
html="""<tr _ngcontent-nse-c23="" class="ant-table-row ng-star-inserted"><td _ngcontent-nse-c23="" nzshowcheckbox="" class="ant-table-selection-column" data-id="516212116298478337875626"><!----><!----><label nz-checkbox="" class="ant-checkbox-wrapper ng-untouched ng-pristine ng-valid ng-star-inserted"><span class="ant-checkbox"><input class="ant-checkbox-input ng-untouched ng-pristine ng-valid" type="checkbox"><span class="ant-checkbox-inner"></span></span><span style="display: none;"></span></label><!----><!----></td><td _ngcontent-nse-c23=""><!----><!----><!----><!----><div _ngcontent-nse-c23="" class="news-content"><!----><div _ngcontent-nse-c23="" class="inline-block" style="width: 34px;"><div _ngcontent-nse-c23="" class="inline-block profile-img-wrapper"><!----><!----><!----><img _ngcontent-nse-c23="" alt="" src="https://tvax4.sinaimg.cn/crop.54.4.201.201.50/648ac619ly8fnqd9khhh5j20740743yi.jpg" class="ng-star-inserted"><!----><!----><!----><!----><span _ngcontent-nse-c23="" class="user-level-icon-wrapper ng-star-inserted"><i _ngcontent-nse-c23="" class="user-level-icon weibo-yellow"></i></span></div></div><div _ngcontent-nse-c23="" class="inline-block news-item"><div _ngcontent-nse-c23="" class="profile-title inline-block clearfix"><a _ngcontent-nse-c23=""><ellipsis _ngcontent-nse-c23=""><div style="display: none;"><span _ngcontent-nse-c23="">亮话天窗谈投资</span></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span _ngcontent-nse-c23="">亮话天窗谈投资</span></div><!----><!----><!----></ellipsis></a><!----><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m ml10 ng-star-inserted"><nz-tag _ngcontent-nse-c23="" class="cur-p mr0 ng-tns-c13-412 ng-trigger ng-trigger-fadeMotion ant-tag">纠错<!----></nz-tag></div><div _ngcontent-nse-c23="" class="inline-block m10 v-a-m"><!----><!----><!----><!----><nz-tag _ngcontent-nse-c23="" nz-dropdown="" nztrigger="click" class="ng-tns-c13-414 ng-trigger ng-trigger-fadeMotion ant-dropdown-trigger cur-p mr0 fmgtag ant-tag ng-star-inserted"> 非敏感 <i _ngcontent-nse-c23="" iconfont="fa-xiala" nz-icon="" style="font-size: 8px;" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-xiala"></use></svg></i><!----></nz-tag><!----><!----><!----></div></div><div _ngcontent-nse-c23="" class="profile-tip inline-block"><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-145 ng-trigger ng-trigger-fadeMotion ant-tag"> 精准地域：上海市,安徽省,合肥市 <!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-146 ng-trigger ng-trigger-fadeMotion ant-tag"> 行业：<span _ngcontent-nse-c23="">其他</span><!----></nz-tag><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-147 ng-trigger ng-trigger-fadeMotion ant-tag"> 涉及词：<span _ngcontent-nse-c23="" class="color-red"><ellipsis _ngcontent-nse-c23=""><div style="display: none;">电脑,华为</div><!----><!----><!----><!----><!----><!----><!---->电脑,华为<!----><!----><!----><!----></ellipsis></span><!----></nz-tag><!----><nz-tag _ngcontent-nse-c23="" class="ng-tns-c13-413 ng-trigger ng-trigger-fadeMotion ant-tag ant-tag-has-color ng-star-inserted" style="background-color: rgb(51, 149, 147);"> 原创 <!----></nz-tag><!----><!----></div><div _ngcontent-nse-c23="" class="item-title news-item-title contenttext"><app-ellsisp-expend _ngcontent-nse-c23=""><div class="rel"><ellipsis><div style="display: none;"><div>涉及盘中拉抬打压、虚假申报等异常交易情形。18、圣济堂公告，公司关注到有投资者及炒股软件将公司列为“医美概念”股，经公司核查，公司目前无“医美”产品生产。19、国科微公告，公司回复关注函，近日，网传关于公司与<font color="red">华为</font>海思进行合作、业绩</div></div><!----><!----><!----><!----><!----><!----><!----><!----><div class="ellipsis ellipsis__line-clamp ng-star-inserted" style="-webkit-line-clamp: 4; -webkit-box-orient: vertical;"><div>涉及盘中拉抬打压、虚假申报等异常交易情形。18、圣济堂公告，公司关注到有投资者及炒股软件将公司列为“医美概念”股，经公司核查，公司目前无“医美”产品生产。19、国科微公告，公司回复关注函，近日，网传关于公司与<font color="red">华为</font>海思进行合作、业绩</div></div><!----><!----><!----></ellipsis></div></app-ellsisp-expend></div><!----><!----><!----><div _ngcontent-nse-c23="" class="news-item-tools font-size-0 lh2 clearfix"><!----><div _ngcontent-nse-c23="" class="inline-block v-a-m font-size-14 pull-left ng-star-inserted"><div _ngcontent-nse-c23="" class="inline-block mr15"><i _ngcontent-nse-c23="" class="anticon font-size-14 mr5" iconfont="fa-pinglunshu" nz-icon="" nz-tooltip="" nztooltiptitle="评论数"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-pinglunshu"></use></svg></i><span _ngcontent-nse-c23="" class="color_main font-size-14 cur-p">0</span></div><div _ngcontent-nse-c23="" class="inline-block"><i _ngcontent-nse-c23="" class="anticon font-size-16 mr5" iconfont="fa-zhuanfa" nz-icon="" nz-tooltip="" nztooltiptitle="转发数"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-zhuanfa"></use></svg></i><span _ngcontent-nse-c23="" class="color_main font-size-14 cur-p">0</span></div></div><div _ngcontent-nse-c23="" class="inline-block v-a-m color_main text-right pull-right"><app-global-btn-group _ngcontent-nse-c23="" _nghost-nse-c31=""><div _ngcontent-nse-c31="" class="inline-block global-btn-group v-a-m ml20"><ul _ngcontent-nse-c31=""><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至收藏夹" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shoucang"></use></svg></i></a><!----></li><li _ngcontent-nse-c31=""><!----><!----><!----><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="添加至简报素材" class="ant-dropdown-trigger ant-dropdown-link ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-tianjiazhijianbaosucai"></use></svg></i></a><!----></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="舆情下发渠道" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuqingxiafaqudao"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="查看原文"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-yuanwen"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="复制" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fuzhi1"></use></svg></i></a></li><li _ngcontent-nse-c31=""><!----><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="标已读" class="ng-star-inserted"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-weidu"></use></svg></i></a><!----><!----></li><!----><!----><li _ngcontent-nse-c31="" class="acl__hide ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="分发" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-fenfadaoxitongzu"></use></svg></i></a></li><!----><!----><!----><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-dropdown="" nz-tooltip="" nztooltipplacement="top" nztooltiptitle="删除" class="ant-dropdown-trigger ant-dropdown-link"><i _ngcontent-nse-c31="" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-shanchu2"></use></svg></i></a></li><!----><li _ngcontent-nse-c31="" class="ng-star-inserted"><a _ngcontent-nse-c31="" nz-tooltip="" nztooltiptitle="一键溯源"><i _ngcontent-nse-c31="" iconfont="fa-suyuantubiao" nz-icon="" class="anticon"><svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><use xlink:href="#fa-suyuantubiao"></use></svg></i></a></li></ul></div><!----><!----><!----><!----><!----><!----></app-global-btn-group></div></div></div></div></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><span _ngcontent-nse-c23="" class="ng-star-inserted">1</span></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><a _ngcontent-nse-c23="" class="mb5 color-333 font-size-13 ng-star-inserted" routerlink="/yqmonitor/expend" target="_blank" href="#/yqmonitor/expend?name=%E6%95%B0%E7%A0%81%E4%BA%A7%E5%93%81%E3%80%81%E8%BD%AF%E4%BB%B6&amp;type=2"> 新浪微博 </a><!----><p _ngcontent-nse-c23="" class="font-size-13">广东</p></td><td _ngcontent-nse-c23="" nzalign="center" style="text-align: center;"><!----><!----><!----><!----><!----><!----><!----><!----><p _ngcontent-nse-c23="" class="ng-star-inserted"><span _ngcontent-nse-c23="">08:33<br>今天</span></p><!----><!----></td></tr>"""
import re
p=re.compile(r'\s*|\t|\r|\n')
doc = etree.HTML(html)
tds = doc.xpath('//td')

td_title = tds[1]
print("主要文章：",td_title)

td_orgin = tds[3]
# 文章站点
site_name = td_orgin.xpath('a')[0].text
print("文章站点:",p.sub("",site_name))
# 文章时间
time_all = tds[4].xpath('//p[@class="ng-star-inserted"]/span/text()')
print("文章时间：",time_all)
# 文章类型
sort_1=td_title.xpath('//nz-tag[contains(@class,"ant-tag-has-color")]/text()')
print("文章类型",sort_1)

if len(sort_1)>0:
    sort=p.sub("",sort_1[0])
else:
    sort="原创"
print("文章类型",sort)
# sort = p.sub("",'))
# industry = p.sub("",td_title.xpath('//div[@class="profile-tip inline-block"][-1]/nz-tag[1]/text()')[0])
# /html/body/app-root/layout-default/section/app-index/div/div[2]/app-yq-yqlist/div/div[2]/app-monitor-list/nz-card/div
# /app-info-list/nz-spin/div/div/nz-table/nz-spin/div/div/div/div/table/tbody/tr[43]/td[2]/div/div[2]/div[2]/nz-tag[2]/span
industry = p.sub("",td_title.xpath('//div[@class="profile-tip inline-block"]/nz-tag[2]/span/text()')[0])

print("行业:",industry)


relate_words=p.sub("",td_title.xpath('//div[@class="profile-tip inline-block"]/nz-tag[3]/span/ellipsis/div')[0].xpath('string(.)'))
print("关键词",relate_words)

AREA=p.sub("",td_orgin.xpath('//p/text()')[0])
print("地域",AREA)

# 获取内容所有文本
content = p.sub("",td_title.xpath('//div[contains(@class,"item-title news-item-title contenttext")]//div[@class="ellipsis ellipsis__line-clamp ng-star-inserted"]')[0].xpath('string(.)'))
# content = p.sub("",td_title.xpath('')[0].xpath('string(.)'))
# /html/body/app-root/layout-default/section/app-index/div/div[2]/app-yq-yqlist/div/div[2]/app-monitor-list/nz-card/div/app-info-list/nz-spin/div/div/nz-table/nz-spin/div/div/div/div/table/tbody/tr[45]/
# td[2]/div/div[2]/div[3]/app-ellsisp-expend/div/ellipsis/div[2]/div
print("文本内容：",content)
# 获取转发内容的所有文本
# spread = p.sub("",td_title.xpath('//div[contains(@class,"should-spread-area")]')[0].xpath('string(.)').strip())
spread = td_title.xpath('//div[contains(@class,"should-spread-area")]')

if spread:
    spread_content = p.sub("", spread[0].xpath('string(.)'))

else:
    spread_content = ''
print("转发内容", spread_content)

tt=td_title.xpath('//div[@class="hike"]')
# 作者 微博正确
# author=td_title.xpath('//div[contains(@class,"profile-title inline-block clearfix")]/a/ellipsis/div/span')[0].text

author=td_title.xpath('//div[contains(@class,"profile-title inline-block clearfix")]/a/ellipsis/div')[0].xpath('string(.)')
td_title_=p.sub("",author)

print("***"*20)


print("作者或者标题:",td_title_)
print("词id：",tds[0].attrib['data-id'])

attitude=p.sub("",td_title.xpath('//nz-tag[@nztrigger="click"]')[0].text)
print("态度：",attitude)
# for t in td_title:
#     print(t)
# print(type(td_title))

# 图片路径
imgs=td_title.xpath('//img')
print("图片路径：")
print(",".join([img.attrib['src'] for img in td_title.xpath('//img')]))
forwarding_span=td_title.xpath('//i[contains(@class,"anticon font-size-16 mr5")]/following-sibling::span')
if forwarding_span:
    forwarding_num=p.sub("",td_title.xpath('//i[contains(@class,"anticon font-size-16 mr5")]/following-sibling::span')[0].text)
else:
    forwarding_num=0
print("转发数量",forwarding_num)
comment_num_span = td_title.xpath('.//i[contains(@iconfont,"fa-pinglunshu")]/following-sibling::span/text()')
if comment_num_span:
    comment_num=comment_num_span[0]
else:
    comment_num_span=0



